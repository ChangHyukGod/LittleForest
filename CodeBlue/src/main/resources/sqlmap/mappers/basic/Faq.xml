<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper
	namespace="com.simplecoding.repositoryexam.mapper.basic.FaqMapper">

	<!-- 키워드로 FAQ 검색 (페이징) -->

	<select id="selectFaqlist" parameterType="Criteria"
		resultType="FaqVO">
		SELECT * FROM FAQ
		WHERE question LIKE '%' || #{keyword} || '%'
		OR answer LIKE '%' || #{keyword} || '%'
		<!-- SELECT * FROM FAQ WHERE question LIKE '%'|| #{searchKeyword} ||'%' 
			OFFSET #{firstIndex} ROWS FETCH NEXT #{recordCountPerPage} ROWS ONLY -->
	</select>
	<select id="selectFaqListTotCnt" parameterType="Criteria"
		resultType="int">
		SELECT COUNT(*) FROM FAQ
		WHERE question LIKE '%'||
		#{searchKeyword} ||'%'
	</select>

</mapper>
